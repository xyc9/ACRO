{"ast":null,"code":"import _slicedToArray from\"D:/bootstrap/React-work/Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState}from'react';import MyContext from'../context';import axios from'axios';import{FormStatic,Card,ShowMore}from'../partials';import{useRouteMatch}from\"react-router-dom\";var Catalog=function Catalog(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),towers=_useState2[0],setTowers=_useState2[1];React.useEffect(function(){axios.get('http://localhost:3000/db.json').then(function(_ref){var data=_ref.data;return setTowers(data.towers);});},[]);var _useRouteMatch=useRouteMatch(),url=_useRouteMatch.url;var arr=[{id:1,name:'Башня 1',isOpenMap:false,urlId:1234,bcUrl:'bashnya_1'},{id:2,name:'Башня 2',isOpenMap:false,urlId:1334,bcUrl:'bashnya_2'},{id:3,name:'Башня 3',isOpenMap:false,urlId:453543,bcUrl:'bashnya_3'},{id:4,name:'Башня 44',isOpenMap:false,urlId:45543,bcUrl:'bashnya_44'}];var _useState3=useState(arr),_useState4=_slicedToArray(_useState3,2),changeStatusOpenMap=_useState4[0],setChangeStatusOpenMap=_useState4[1];var openMap=function openMap(id){setChangeStatusOpenMap(changeStatusOpenMap.map(function(item){if(item.id===id){item.isOpenMap=true;}return item;}));};var closeMap=function closeMap(id){setChangeStatusOpenMap(changeStatusOpenMap.map(function(item){if(item.id===id){item.isOpenMap=false;}return item;}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"catalog section\",children:[/*#__PURE__*/_jsx(MyContext.Provider,{value:{openMap:openMap,closeMap:closeMap},children:changeStatusOpenMap.map(function(item,index){return/*#__PURE__*/_jsx(Card,{catalog:true,elem:item,slug:\"\".concat(url,\"/\").concat(item.urlId),id:item.urlId,business_id:'/catalog'+\"/bc/\".concat(item.bcUrl)},\"\".concat(item.name,\"_\").concat(index));})}),towers.map(function(item,index){return/*#__PURE__*/_jsx(Card,{catalog:true,business_id:\"\".concat(url,\"/bc/\").concat(item.bcUrl),elem:item,slug:\"\".concat(url,\"/\").concat(item.urlId),id:item.urlId},item.id);}),/*#__PURE__*/_jsx(ShowMore,{})]}),/*#__PURE__*/_jsx(FormStatic,{})]});};export default Catalog;","map":{"version":3,"sources":["D:/bootstrap/React-work/Project/src/pages/Catalog.jsx"],"names":["React","useState","MyContext","axios","FormStatic","Card","ShowMore","useRouteMatch","Catalog","props","towers","setTowers","useEffect","get","then","data","url","arr","id","name","isOpenMap","urlId","bcUrl","changeStatusOpenMap","setChangeStatusOpenMap","openMap","map","item","closeMap","index"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport MyContext from '../context';\nimport axios from 'axios';\n\nimport { FormStatic, Card, ShowMore } from '../partials'\nimport {useRouteMatch} from \"react-router-dom\";\n\n\n\n\nconst Catalog = (props) => {\n    const [towers, setTowers] = useState([]);\n\n    React.useEffect(() => {\n        axios.get('http://localhost:3000/db.json')\n            .then(({data}) => setTowers(data.towers));\n    }, []);\n\n    let { url } = useRouteMatch();\n    const arr = [\n        {\n            id: 1,\n            name:'Башня 1',\n            isOpenMap: false,\n            urlId: 1234,\n            bcUrl: 'bashnya_1',\n        },\n        {\n            id: 2,\n            name:'Башня 2',\n            isOpenMap: false,\n            urlId: 1334,\n            bcUrl: 'bashnya_2',\n        },\n        {\n            id: 3,\n            name:'Башня 3',\n            isOpenMap: false,\n            urlId: 453543,\n            bcUrl: 'bashnya_3',\n        },\n        {\n            id: 4,\n            name:'Башня 44',\n            isOpenMap: false,\n            urlId: 45543,\n            bcUrl: 'bashnya_44',\n        }\n       ];\n    const [changeStatusOpenMap, setChangeStatusOpenMap] = useState(arr);\n    const openMap = (id) => {\n        setChangeStatusOpenMap(\n            changeStatusOpenMap.map(item => {\n                if (item.id === id) {\n                    item.isOpenMap = true;\n                }\n                return item\n            })\n        );\n    };\n    const closeMap = (id) => {\n        setChangeStatusOpenMap(\n            changeStatusOpenMap.map(item => {\n                if (item.id === id) {\n                    item.isOpenMap = false;\n                }\n                return item\n            })\n        );\n    };\n\n    return <>\n        <section className=\"catalog section\">\n            {<MyContext.Provider value={{openMap, closeMap}}>\n                {\n                    changeStatusOpenMap.map((item, index) => {\n                        return <Card\n                            key={`${item.name}_${index}`}\n                            catalog\n                            elem={item}\n                            slug={`${url}/${item.urlId}`}\n                            id={item.urlId}\n                            business_id={'/catalog' + `/bc/${item.bcUrl}`}/>\n                    })\n                }\n            </MyContext.Provider>}\n\n            {\n                towers.map((item, index) => {\n                    return <Card catalog\n                                 business_id={`${url}/bc/${item.bcUrl}`}\n                                 elem={item}\n                                 slug={`${url}/${item.urlId}`}\n                                 id={item.urlId}\n                                 key={item.id}/>\n                })\n            }\n            <ShowMore/>\n\n        </section>\n        <FormStatic/>\n    </>\n};\n\n\nexport default Catalog;\n"]},"metadata":{},"sourceType":"module"}